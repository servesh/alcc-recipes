name: psana_env
channels:
 - intel
 - defaults
 - lcls-i
 - conda-forge
 - cctbx
dependencies:
# Don't do these -- they interfere with NERSC systems
# # conda compilers
# - c-compiler
# - cxx-compiler

 # compilers
 - scons

 # psana
 - psana

 # python
 - python=3.9
 - biopython
 - ipython
 - pybind11
 - setuptools<60

 # testing
 - pytest
 - pytest-xdist
 - mock

 # documentation
 - docutils
 - numpydoc
 - sphinx

 # graphics
 - pillow
 - reportlab
 - wxpython
 - pyopengl
 - libtiff

 # HDF5 (main libraries come with psana)
 - hdf5plugin                      # [unix]
 # - hdf5-external-filter-plugins  # [unix]

 # From LS249 run of adse13-182
 - pint

 # other
 - libsvm
 - mrcfile
 - psutil

 # cctbx channel
 - libsvm_py

 # dials
 - jinja2
 - msgpack-python
 - orderedset
 - procrunner
 - python-blosc
 - scikit-learn
 - tqdm
 - eigen
 - dials-data

 # xia2
 - tabulate

 # Phenix
 - send2trash
 - PyRTF

 # xfel gui
 - mysql
 - mysql-connector-python
 - mysql-connector-c
 - mysqlclient
 - sqlite

 - pybind11
 - scikit-learn
 - pandas
 - pydrive2

 # Avoid numpy 1.21.[01234]
 # See https://github.com/cctbx/cctbx_project/issues/627
 # < 1.23.0 specific to Intel scipy version limitation
 # https://stackoverflow.com/questions/73072257/resolve-warning-a-numpy-version-1-16-5-and-1-23-0-is-required-for-this-versi
 - numpy=1.20.3
